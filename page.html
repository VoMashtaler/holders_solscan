<!DOCTYPE html>
<html>
<head>
  <title>Token holders</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.2.0/papaparse.min.js"></script>
  <script>
    function downloadCSV() {
      var tokenAddress = document.getElementById("token-address").value;

      // Send an HTTP request to the API
      fetch(`https://public-api.solscan.io/token/holders?tokenAddress=${tokenAddress}&limit=100&offset=0`)
        .then(response => response.json())
        .then(data => {
          var csv = Papa.unparse(data);
          var blob = new Blob([csv], {type: "text/csv"});
          var link = document.createElement("a");
          link.href = URL.createObjectURL(blob);
          link.download = "holders.csv";
          link.click();
        });
    }
  </script>
</head>
<body>
  <input type="text" id="token-address" placeholder="Enter token address">
  <button onclick="downloadCSV()">Download CSV</button>
</body>
</html>
